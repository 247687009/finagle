
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Finagle changelog &mdash; Finagle 0.1-SNAPSHOT documentation</title>
    
    <link rel="stylesheet" href="_static/finagle.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.1-SNAPSHOT',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Finagle 0.1-SNAPSHOT documentation" href="index.html" />
    <link rel="next" title="License" href="license.html" />
    <link rel="prev" title="FAQ" href="FAQ.html" />
   
  
  <link media="only screen and (max-device-width: 480px)" href="_static/small_flask.css" type= "text/css" rel="stylesheet" />

  </head>
  <body>
  
  

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="license.html" title="License"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="FAQ.html" title="FAQ"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Finagle</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="finagle-changelog">
<h1>Finagle changelog<a class="headerlink" href="#finagle-changelog" title="Permalink to this headline">¶</a></h1>
<p>Below is a list of changes for each Finagle release.</p>
<p>(<a class="reference external" href="http://docutils.sourceforge.net/docs/user/rst/quickstart.html">http://docutils.sourceforge.net/docs/user/rst/quickstart.html</a>)
as it is included in Finagle&#8217;s user&#8217;s guide.</p>
<div class="section" id="x">
<h2>6.x<a class="headerlink" href="#x" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1">
<h3>6.1.2<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>Released 2013/03/21</p>
<ul class="simple">
<li><cite>finagle</cite>: Fix flakey tests</li>
<li><cite>finagle</cite>: fix sbt build</li>
<li><cite>finagle</cite>: Upgrade util to 6.2.4</li>
<li><cite>finagle-core</cite>: Fix reporting bug for pending reqs</li>
<li><cite>finagle-core</cite>: Move Disposable/Managed to util</li>
<li><cite>finagle-core</cite>: Use Future.Nil</li>
<li><cite>finagle-doc</cite>: Improve, add Matt Ho&#8217;s talk.</li>
<li><cite>finagle-exp</cite>: Add BackupRequestFilter, new backup request filter using response latency quantiles</li>
<li><cite>finagle-http</cite>: Avoid URISyntaxException</li>
<li><cite>finagle-memcached</cite>: Add Replication Cache Client</li>
<li><cite>finagle-mysql</cite>: Make prepareAndExecute and prepareAndSelect useful again.</li>
<li><cite>finagle-mysql</cite>: Make sure we are properly managing prepared statement</li>
<li><cite>finagle-mysql</cite>: Move interfaces outside of protocol package</li>
<li><cite>finagle-redis</cite>: Moved redis server classes from private to public</li>
<li><cite>finagle-thrift</cite>: fix 2.10 build</li>
</ul>
</div>
<div class="section" id="id2">
<h3>6.1.1<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>Released 2013/03/12</p>
<ul class="simple">
<li><cite>doc</cite>: Finagle user guide!</li>
<li><cite>finagle</cite>: Remove finagle&#8217;s dependence on jerkson.</li>
<li><cite>finagle</cite>: Upgrade Netty to 3.5.12</li>
<li><cite>finagle</cite>: Upgrade scrooge-runtime to 2.4.0</li>
<li><cite>finagle</cite>: Upgrade util to 6.2.2</li>
<li><cite>finagle-core</cite>: com.twitter.finagle.Group: introduce names, use them.</li>
<li><cite>finagle-core</cite>: deprivatize, document Client, Server.</li>
<li><cite>finagle-core</cite>: fix multiple stats bugs.</li>
<li><cite>finagle-core</cite>: Log Finagle&#8217;s version number on startup.</li>
<li><cite>finagle-core</cite>: RetryingFilter, don&#8217;t retry on CancelledRequestException.</li>
<li><cite>finagle-http</cite>: New Request object queryString utility functions.</li>
<li><cite>finagle-http</cite>: New Request/Response encode/decode functions.</li>
<li><cite>finagle-memcached</cite>: Actively reestablish zk connection whenever disconnected or expired.</li>
<li><cite>finagle-memcached</cite>: Cache pool cluster not updated since 2nd serverset change.</li>
<li><cite>finagle-memcached</cite>: Don&#8217;t use deprecated FuturePool.defaultPool.</li>
<li><cite>finagle-mysql</cite>: Add project in the list of deployed jar.</li>
<li><cite>finagle-mysql</cite>: Fix race condition in the authentication process.</li>
<li><cite>finagle-mysql</cite>: Move it to experimental package.</li>
<li><cite>finagle-ostrich4</cite>: Add OstrichExporter to enable Ostrich stats in the new App stack.</li>
<li><cite>finagle-redis</cite>: Add support for INFO command.</li>
<li><cite>finagle-resolver</cite>: additional visibility for Announcers and Resolvers.</li>
<li><cite>finagle-zipkin</cite>: new factory methods.</li>
</ul>
</div>
<div class="section" id="id3">
<h3>6.1.0<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<p>Released 2013/01/30</p>
<ul class="simple">
<li><cite>finagle</cite>: update util and ostrich dependencies</li>
<li><cite>finagle</cite>: libraries: preliminary 2.10 port/build</li>
<li><cite>finagle</cite>: Tracer use new daemon() flag; get rid of factory. Simplify.</li>
<li><cite>finagle</cite>: refactor clients and servers to be simpler, more logical.</li>
<li><cite>finagle-core</cite>: Provide a reportHostStatsTo API on ClientBuilder</li>
</ul>
<p>that per-host stats will be reported to.
- <cite>finagle-core</cite>: Use Groups in place of Clusters
- <cite>finagle-core</cite>: Create a NonShrinkingCluster
- <cite>finagle-redis</cite>: made zRange... commands work more like the actual
redis commands
- <cite>finagle-stats</cite>: new project that provides a StatsReceiver based
on Twitter&#8217;s Metrics library.
- <cite>finagle-http</cite>: add new-style client and server, including a primitive
URL fetcher</p>
</div>
<div class="section" id="id4">
<h3>6.0.5<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<p>Released 2013/01/22</p>
<ul class="simple">
<li><cite>finagle-core</cite>: basic SOCKS support for finagle clients,</li>
</ul>
<p>intended for use with ssh -D.</p>
</div>
<div class="section" id="id5">
<h3>6.0.4<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<p>Released 2013/01/22</p>
<ul class="simple">
<li><cite>finagle-core</cite>: CachingPool owns connections and caches them even if upstream cancels</li>
<li><cite>finagle-core</cite>: Eliminate varargs overhead in StatsReceiver.time and timeFuture</li>
<li><cite>finagle-core</cite>: LoadBalancerTest: allow the tests to be run with Google Caliper</li>
<li><cite>finagle-core</cite>: make snap on mapped cluster thread-safe</li>
<li><cite>finagle-memcached</cite>: explicitly pass in initial cache nodes when using a</li>
</ul>
<p>a static cluster
- <cite>finagle-native</cite>: fix up grab_and_path_tomcat_native
- <cite>finagle-redis</cite>: finagle redis btree sorted set commands
- <cite>finagle-redis</cite>: Implemented redis HMSET
- <cite>finagle-redis</cite>: expireAt command</p>
</div>
<div class="section" id="id6">
<h3>6.0.3<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<p>Released 2012/12/18</p>
<ul class="simple">
<li><cite>finagle-mux</cite>: new session protocol</li>
<li><cite>documentation</cite>: document connection management and associated</li>
</ul>
<p>configuration options
- <cite>finagle-core</cite>: expose newChannelTransport in Codec to allow multiplexing in clients
- <cite>finagle-http RequestProxy</cite>: proxy response</p>
</div>
<div class="section" id="id7">
<h3>6.0.2<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<p>Released 2012/12/11</p>
<ul class="simple">
<li><cite>TimerSpec, RefcountedSpec</cite>: make deterministic</li>
<li><cite>finagle-core</cite>: JSSE SSL support for intermediate certificates</li>
<li><cite>finagle-core</cite>: push SSLEngine all the way up to the ServerBuilder</li>
<li><cite>finagle-core</cite>: preclude default SourceMonitor in clients</li>
<li><cite>finagle-core</cite>: ReusingPool for pipelined, multiplexed clients</li>
<li><cite>finagle-core</cite>: remove wasteful RichLong allocations in hot path</li>
<li><cite>finagle-core</cite>: move acquire/release of services outside of WatermarkPool&#8217;s synchronization</li>
<li><cite>finagle-core</cite>: remove unintended reflection-by-refinement-type</li>
<li><cite>finagle-thrift</cite>: actually support multiple protocols</li>
<li><cite>finagle-ostrich4</cite>: configurable delimiter</li>
<li><cite>finagle-redis</cite>: parse case-insensitive commands</li>
</ul>
</div>
<div class="section" id="id8">
<h3>6.0.1<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<p>Released 2012/11/26</p>
<ul class="simple">
<li>Use java.util.ArrayDeque in place of mutable.Queue due to</li>
</ul>
<p><a class="reference external" href="https://issues.scala-lang.org/browse/SI-6690">https://issues.scala-lang.org/browse/SI-6690</a></p>
</div>
<div class="section" id="id9">
<h3>6.0.0<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<p>Released 2012/11/26</p>
<ul class="simple">
<li>util 6.0.0 dependency</li>
<li><cite>finagle-core</cite>: new client/server APIs; not yet exposed to users</li>
</ul>
</div>
</div>
<div class="section" id="id10">
<h2>5.x<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id11">
<h3>5.3.23<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<p>Released 2012/11/21</p>
<ul class="simple">
<li><cite>finagle-spdy</cite>: new codec</li>
<li><cite>finagle-core</cite>: ServiceTimeoutException is now a</li>
</ul>
<p>WriteException (so they can be retried)
- <cite>finagle-core</cite>: close channels owned by ChannelTransport
before failing queues
- <cite>finagle-core</cite>: share ChannelStatsHandler in clients and
servers to avoid excessive stats-related weakrefs
- <cite>finagle-core</cite>: don&#8217;t leak Spooled updates in the HeapBalancer</p>
</div>
<div class="section" id="id12">
<h3>5.3.22<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<p>Released 2012/11/08</p>
<ul class="simple">
<li><cite>finagle-redis</cite>: String commands</li>
<li><cite>finagle-redis</cite>: collection.Set =&gt; collection.immutable.Set per #116</li>
<li><cite>finagle-thrift</cite>: SeqIdFilter: Don&#8217;t modify thrift requests.</li>
<li><cite>BackupRequestFilter</cite>: experimental service filter to perform backup requests</li>
</ul>
</div>
<div class="section" id="id13">
<h3>5.3.20<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h3>
<p>Released 2012/10/26</p>
<ul class="simple">
<li><cite>finagle-redis</cite>: fix zrevrangebyscore (<a class="reference external" href="https://github.com/twitter/finagle/issues/114">https://github.com/twitter/finagle/issues/114</a>)</li>
<li><cite>finagle-memcached</cite>: fix space leak when using clustering</li>
<li><cite>finagle-core</cite>: special case 1-hosted (static) clients to bypass loadbalancer</li>
<li><cite>finagle-core</cite>: Introduce an experimental buffer-based pool</li>
</ul>
</div>
<div class="section" id="id14">
<h3>5.3.19<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h3>
<p>Released 2012/10/16</p>
<ul class="simple">
<li>Upgrade ostrich to 8.2.9</li>
<li>Upgrade util to 5.3.13</li>
<li>Upgrading slf4j to 1.6.1</li>
<li><cite>finagle</cite>: Rm usage of deprecated Predef.error.</li>
<li><cite>finagle-core</cite>: Changed stats name in ChannelStatsHandler from exception msg to getClass.getName</li>
<li><cite>finagle-core</cite>: Add counters to track disconnections due to Idle activity (both read/write)</li>
<li><cite>finagle-core</cite>: Add &#8220;adds&#8221;/&#8221;removes&#8221; counters in HeapBalancer to track modifications</li>
<li><cite>finagle-core</cite>: Added name to HeapBalancer init (via exception) if HB size is 0</li>
<li><cite>finagle-core</cite>: Don&#8217;t log dropped events: they are actually quite numerous.</li>
<li><cite>finagle-kestrel</cite>: Disable failFast for kestrel.</li>
<li><cite>finagle-memcached</cite>: Cluster support within finagle-memcached (phase 2)</li>
<li><cite>finagle-redis</cite>: added new commands</li>
</ul>
</div>
<div class="section" id="id15">
<h3>5.3.18<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h3>
<p>Released 2012/09/27</p>
<ul class="simple">
<li><cite>Doc</cite>: update README with working thrift Java example</li>
<li><cite>Doc</cite>: fix compile errors in examples</li>
<li><cite>finagle-http</cite>: fix typo in RequestBuilder API</li>
<li><cite>finagle-stress</cite>: FrontEndServerStress refactor; now generates runnable binary</li>
<li><cite>finagle-core</cite>: add optional <cite>shouldRetry</cite> argument to RetryPolicy.tries</li>
<li><cite>finagle-core</cite>: pools propagate underlying availability correctly</li>
<li><cite>finagle-core</cite>: move fail-fast before the pool. This prevents it from</li>
</ul>
<p>masking errors from the failure accrual mechanism, and is arguably
the &#8220;correct&#8221; placement
- <cite>finagle-core</cite>: fix argument type in RetryingFilter.apply
- <cite>finagle-core</cite>: failFast by default; disable for Kestrel
- <cite>finagle-memcached</cite>: cache-pool specific Cluster implementation
- <cite>finagle-memcached</cite>: add stat to cache-pool cluster
- <cite>finagle-redis</cite>: add scan, hscan commands
- <cite>finagle-redis</cite>: add list commands</p>
</div>
<div class="section" id="id16">
<h3>5.3.9<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h3>
<p>Released 2012/09/07</p>
<ul class="simple">
<li><cite>finagle</cite>: Update/fix README</li>
<li><cite>finagle</cite>: Upgrade util to 5.3.10</li>
<li><cite>finagle</cite>: Update guava to v13</li>
<li><cite>finagle-redis</cite>: API v2 + update example</li>
<li><cite>finagle-thrift</cite>: validate connections based on TApplicationException</li>
<li><cite>finagle-core</cite>: SSL: fix connection failure propagation in futures</li>
</ul>
</div>
<div class="section" id="id17">
<h3>5.3.8<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h3>
<p>2012/08/24</p>
<ul class="simple">
<li><cite>finagle-core</cite>: Upgrade to Netty 3.5.5</li>
</ul>
</div>
<div class="section" id="id18">
<h3>5.3.7<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h3>
<p>Released 2012/08/24</p>
<ul class="simple">
<li><cite>Doc</cite>: Fix mistake in finagLe README that claimed Future objects have a getContentAsync method</li>
<li><cite>Doc</cite>: Fix typos in README</li>
<li><cite>finagle-thrift</cite>: ThriftChannelBufferDecoder: fix for composite buffers</li>
<li><cite>finagle-mysql</cite>: MySQL codec from Ruben Oanta.</li>
<li><cite>finagle-core</cite>: add isSuccess to FailureAccrualFactory</li>
<li><cite>finagle-http</cite>: Fix file extension bug in finagle-http</li>
</ul>
</div>
<div class="section" id="id19">
<h3>5.3.6<a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h3>
<p>Released 2012/06/17</p>
<ul class="simple">
<li><cite>Doc</cite>: Typos</li>
<li><cite>finagle-core</cite>: fix canceling recurring timers</li>
<li><cite>finagle</cite>: kill finagle-memcached-hadoop</li>
<li><cite>finagle-memcached</cite>: in-process memcache server now supports expiry</li>
<li><cite>finagle-memcached</cite>: Adding key length validation and refactor validation logic.</li>
</ul>
</div>
<div class="section" id="id20">
<h3>5.3.5<a class="headerlink" href="#id20" title="Permalink to this headline">¶</a></h3>
<p>Released 2012/08/10</p>
<ul class="simple">
<li><cite>finagle-core</cite>: Fixed stats visibility</li>
<li><cite>finagle-serversets</cite>: allow specification of an additional endpoint name in ZookeeperServerSetCluster</li>
<li><cite>finagle-serversets</cite>: ZookeeperServerSetCluster.join now return an EndpointStatus + Named/Daemonized init thread</li>
<li><cite>finagle-core</cite>: Changed Cache&#8217;s internal implementation from queue to deque (to allow LIFO behavior)</li>
<li><cite>finagle-core</cite>: cluster initialization honors global timeout in ClientBuilder.</li>
<li><cite>finagle-stress</cite>: finagle: kill obsolete benchmark</li>
</ul>
</div>
<div class="section" id="id21">
<h3>5.3.4<a class="headerlink" href="#id21" title="Permalink to this headline">¶</a></h3>
<p>Released 2012/08/02</p>
<ul class="simple">
<li><cite>finagle</cite>: patch public release of OSS libraries; catch up sbt</li>
<li><cite>finagle-core</cite>: netty 3.5.3.Final</li>
<li><cite>finagle-core</cite>: Timer: address review comments, fix tiny race</li>
</ul>
</div>
<div class="section" id="id22">
<h3>5.3.3<a class="headerlink" href="#id22" title="Permalink to this headline">¶</a></h3>
<p>Released 2012/07/31</p>
<ul class="simple">
<li><cite>finagle-core</cite>: Timer: dispose timeouts on cancellation</li>
</ul>
</div>
<div class="section" id="id23">
<h3>5.3.2<a class="headerlink" href="#id23" title="Permalink to this headline">¶</a></h3>
<p>Released 2012/07/31</p>
<ul class="simple">
<li><cite>finagle-core</cite>: Fix critical bug in Timer by refactoring the Timer model</li>
<li><cite>finagle</cite>: Add OWNERS file to finagle-memcached, finagle-redis</li>
<li><cite>finagle-redis</cite>: add keys and hkeys</li>
<li><cite>finagle-zipkin</cite>: Add a debug flag, add an i64 bit field to the thrift request header struct and as a http header</li>
<li><cite>finagle-core</cite>: SourceTrackingMonitor to report whether it&#8217;s in client or server</li>
<li><cite>finagle-zipkin</cite>: Add duration to the the JVM gc annotation.</li>
</ul>
</div>
<div class="section" id="id24">
<h3>5.3.1<a class="headerlink" href="#id24" title="Permalink to this headline">¶</a></h3>
<p>Released 2012/07/20</p>
<ul class="simple">
<li><cite>finagle-serversets</cite>: Use authenticated zookeeper client suggested for new SD cluster migration</li>
<li><cite>finagle-thrift</cite>: seqid filter: improved tests</li>
<li><cite>finagle-zipkin</cite>: Add duration to annotations for timing operations</li>
<li><cite>finagle-serversets</cite>: bump up server-set version to 1.0.10 (latest) in finagle-serversets</li>
</ul>
</div>
<div class="section" id="id25">
<h3>5.3.0<a class="headerlink" href="#id25" title="Permalink to this headline">¶</a></h3>
<p>Released 2012/06/25</p>
<ul class="simple">
<li><cite>finagle-core</cite>: ClientBuilder and ServerBuilder&#8217;s MonitorFilter to report exception sources</li>
<li><cite>finagle-test</cite>: Add TaskTrackingTimer benchmark</li>
<li><cite>finagle-thrift</cite>: SeqIdFilter: helpful exceptions</li>
<li><cite>Dispatcher</cite>: all write exceptions are wrapped with WriteException</li>
</ul>
</div>
<div class="section" id="id26">
<h3>5.1.0<a class="headerlink" href="#id26" title="Permalink to this headline">¶</a></h3>
<p>Released 2012/06/14</p>
<ul class="simple">
<li><cite>finagle</cite>: Upgrade util to 5.2.0, ostrich to 8.1.0</li>
<li><cite>finagle-redis</cite>: extend codec</li>
<li><cite>finagle-memcache</cite>: first phase of serverset support</li>
<li><cite>finagle-b3</cite>: we are using zipkin now</li>
<li><cite>finagle-kestrel</cite>: Kill com.twitter.concurrent.Channel</li>
<li><cite>finagle-core</cite>: JvmFiler, trace jvm events</li>
</ul>
</div>
<div class="section" id="id27">
<h3>5.0.2<a class="headerlink" href="#id27" title="Permalink to this headline">¶</a></h3>
<p>Released 2012/06/01</p>
<ul class="simple">
<li><cite>finagle-core</cite>: Refactor the new way of managing resources</li>
<li><cite>finagle-core</cite>: Add capability to drain dispatcher on expire</li>
<li><cite>finagle-core</cite>: ZookeeperServersetCluster notify client when underlying Cluster is ready</li>
<li><cite>finagle-exception</cite>: Upgrade jerkson to 0.5.0 and streamyj to 0.4.1</li>
</ul>
</div>
<div class="section" id="id28">
<h3>5.0.0<a class="headerlink" href="#id28" title="Permalink to this headline">¶</a></h3>
<p>Released 2012/05/25</p>
<ul class="simple">
<li>Upgrade to scala 2.9.2</li>
<li><cite>finagle-core</cite>: FailFast, do not admit requests when marked failed</li>
<li><cite>finagle-redis</cite>: now return tuples and doubles</li>
<li><cite>finagle-memcached</cite>: record client recv annotation after hit/miss</li>
<li><cite>finagle-core</cite>: expand exception chain in StatsFilter</li>
</ul>
</div>
</div>
<div class="section" id="id29">
<h2>4.x<a class="headerlink" href="#id29" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id30">
<h3>4.0.0<a class="headerlink" href="#id30" title="Permalink to this headline">¶</a></h3>
<p>Released 2012/05/08</p>
<ul class="simple">
<li><cite>http</cite>: add AddResponseHeadersFilter, CorsFilter</li>
<li><cite>finagle-redis</cite>: Add ZCard, ZRem, ZRevRange, ZRevRangeByScore commands</li>
<li><cite>finagle-memcached</cite>: Added b3 annotations for key hits/misses</li>
<li><cite>finagle-memcached</cite>: getResult/getsResult for java</li>
<li><cite>finagle-http</cite>: fix client codec</li>
<li><cite>HeapBalancer</cite>: close services that are removed from cluster</li>
<li><cite>finagle-redis</cite>: add tracing and stats support</li>
<li><cite>finagle-http</cite>: Add the client address for http traces. Also record uri after service name has been set</li>
<li><cite>finagle-memcached</cite>: more efficient implementation of GetResult.merged</li>
<li><cite>finagle-redis</cite>: return pairs for hgetall, zrangebyscores, zrevrangebyscores cmds</li>
<li><cite>finagle-core</cite>: introduce Transports and Dispatchers</li>
<li><cite>tracing</cite>: annotate client connection when tracing</li>
<li>update to netty 3.4.1.Final</li>
<li>prevent tenuring of response objects for responses from previously idle connections</li>
<li><cite>finagle-redis</cite>: add quit command</li>
<li><cite>finagle-http</cite>: add service multiplexer</li>
<li>friendlier java interface for retries</li>
</ul>
</div>
</div>
<div class="section" id="id31">
<h2>3.x<a class="headerlink" href="#id31" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id32">
<h3>3.0.0<a class="headerlink" href="#id32" title="Permalink to this headline">¶</a></h3>
<p>Released 2012/03/14</p>
<ul class="simple">
<li><cite>ServiceToChannelHandler</cite>: keep track of shutdowns with</li>
</ul>
<p>pending replies, don&#8217;t monitor errors that occur after
cancellation.
- Add two received_bytesm sent_bytes to per-channel stats.
- <cite>http</cite>: Add wwwAuthenticate(=) and isXmlHttpRequest
- <cite>http</cite>: CancelledRequestExceptions become 499s
- <cite>clients</cite>: experimental Fail-Fast mode
(ClientBuilder.expFailFast(true))
- <cite>b3</cite>: Only log that a span was unfinished if we actually found one
- <cite>thrift</cite>: better support for one-way calls
- <cite>server</cite>: option for cancellation on hangup (default=true)
- <cite>codecs</cite>: improved support for multiplexed protocols
- upgrade to netty 3.4.0.alpha1 which fixes connect timer resolution issues. Trustin says this should be as stable as 3.3.1.Final
- <cite>serversets</cite>: allow for additional endpoints
- <cite>tests</cite>: use true ephemeral ports instead of RandomSocket
- <cite>memcache stress</cite>: use new command line flag library from
commons
- <cite>thrift</cite>: concatenate arrays with System.arraycopy
- <cite>memached</cite>: fix bug wherein we made requests with empty keys
on retries</p>
</div>
</div>
<div class="section" id="id33">
<h2>2.x<a class="headerlink" href="#id33" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id34">
<h3>2.0.1<a class="headerlink" href="#id34" title="Permalink to this headline">¶</a></h3>
<p>Released 2012/03/01</p>
<ul class="simple">
<li><cite>commons-stats</cite>: memoize counters</li>
<li><cite>cluster</cite>: don&#8217;t reuse adds; keep many values per key</li>
<li><cite>clientbuilder</cite>: buffer handlers to avoid deadlock</li>
</ul>
</div>
<div class="section" id="id35">
<h3>2.0.0<a class="headerlink" href="#id35" title="Permalink to this headline">¶</a></h3>
<p>Released 2012/02/27</p>
<ul class="simple">
<li>unify client and server factories</li>
<li><cite>memcache stress test</cite>: one connection per process</li>
<li><cite>b3</cite>: make tests deterministic</li>
<li>upgrade to newest util (and to Guava r11)</li>
</ul>
</div>
</div>
<div class="section" id="id36">
<h2>1.x<a class="headerlink" href="#id36" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id37">
<h3>1.11.1<a class="headerlink" href="#id37" title="Permalink to this headline">¶</a></h3>
<p>Released 2012/02/15</p>
<ul class="simple">
<li><cite>HeapBalancer</cite>: safely remove services from cluster when</li>
</ul>
<p>they have requests in flight
- <cite>http</cite>: speed up logging
- <cite>core</cite>: keep track of handler walltimes</p>
</div>
<div class="section" id="id38">
<h3>1.11.0<a class="headerlink" href="#id38" title="Permalink to this headline">¶</a></h3>
<p>Released 2012/02/13</p>
<ul class="simple">
<li><cite>finagle-redis</cite>: publish.</li>
<li><cite>http</cite>: Message.mediaType=: no longer sets charset to utf-8</li>
<li><cite>http</cite>: Message.setContentType: defaults charset to utf-8</li>
<li><cite>http</cite>: added Message.charset, Message.charset=</li>
<li>Refactor resource management inside of the builders, making lifetimes</li>
</ul>
<p>explicit
- Generic cluster API, support in the HeapBalancer for dynamic hosts list;
remove other load balancers
- <cite>redis</cite>: memcache.Client-style interface
- <cite>netty</cite>: update to 3.3.1.Final, and add NPN TLS extension support
- <cite>b3</cite>: flush span if timeout occurs
- <cite>b3</cite>: java friendly tracer API
- <cite>stress/example</cite>: &#8220;topo&#8221;, a minimal appserver-like topology for testing
- <cite>memcache</cite>: tunable example for benchmarking, testing
- <cite>ServerBuilder</cite>: major refactor &amp; simplification
- <cite>SummarizingStatsReceiver</cite>: fix bug where sort didn&#8217;t operate over a
stable collection</p>
</div>
<div class="section" id="id39">
<h3>1.10.0<a class="headerlink" href="#id39" title="Permalink to this headline">¶</a></h3>
<p>Released 2012/01/24</p>
<ul class="simple">
<li><cite>http</cite>: Message.withX methods now have parameterized return types</li>
<li><cite>memcached</cite>: (Ketama) host ejection</li>
<li>Noisier, more robust monitoring.</li>
<li><cite>zk cluster</cite>: avoid potential infinite loop</li>
<li><cite>http streaming</cite>: better detection, handling of dead channels</li>
<li><cite>http</cite>: always encode output as UTF-8</li>
<li><cite>stream</cite>: use offer/broker for duplex stream</li>
<li><cite>redis</cite>: imported finagle redis client from Tumblr. not yet published.</li>
</ul>
</div>
<div class="section" id="id40">
<h3>1.9.12<a class="headerlink" href="#id40" title="Permalink to this headline">¶</a></h3>
<p>Released 2012/01/05</p>
<ul class="simple">
<li><cite>SSLEngine</cite>: do not reuse between connections</li>
<li><cite>ServerBuilder.Server</cite>: localAddress to get ephemeral port values</li>
<li>More detailed client stats</li>
<li><cite>kestrel</cite>: parse parseStatsLines</li>
<li><cite>FailFastFactory</cite>: new fast-fail strategy with maxOutstandingConnections</li>
<li><cite>exceptions</cite>: add peer information to connection failures, add service name to all exceptions</li>
<li><cite>fixes</cite>: space leak in stats, ReliableDuplexFilter lazy load ordering</li>
<li><cite>b3</cite>: allow the user to specify sample rate</li>
<li><cite>exception reporter</cite>: share scribe connection across instances</li>
<li><cite>finagle-ostrich</cite>: remove, it&#8217;s obsoleted by finagle-ostrich4</li>
</ul>
</div>
<div class="section" id="id41">
<h3>1.9.10<a class="headerlink" href="#id41" title="Permalink to this headline">¶</a></h3>
<p>Released 2011/12/02</p>
<ul class="simple">
<li>update to util 1.12.7</li>
</ul>
</div>
<div class="section" id="id42">
<h3>1.9.9<a class="headerlink" href="#id42" title="Permalink to this headline">¶</a></h3>
<p>Released 2011/12/01</p>
<ul class="simple">
<li>update to util 1.12.6</li>
</ul>
</div>
<div class="section" id="id43">
<h3>1.9.8<a class="headerlink" href="#id43" title="Permalink to this headline">¶</a></h3>
<p>Released 2011/11/30</p>
<ul class="simple">
<li>upgrade to netty 3.2.7.Final</li>
<li><cite>streaming</cite>: support HTTP/1.0</li>
<li><cite>native</cite>: fix content-length header</li>
</ul>
</div>
<div class="section" id="id44">
<h3>1.9.7<a class="headerlink" href="#id44" title="Permalink to this headline">¶</a></h3>
<p>Released 2011/11/29</p>
<ul class="simple">
<li><cite>http</cite>: Propagate CancelledRequestException rather than</li>
</ul>
<p>continuing
- <cite>thrift</cite>: deprecated LookupContext, using
finagle.thrift.ClientId
- use monitors where applicable (composable widgets for
handling exceptions)
- <cite>memcache</cite>: PHPMemCacheClient
- make RetryingFilter usable from Java
- <cite>thrift</cite>: convert uncaught application exceptions into
TApplicationExceptions on the wire
- NoStacktrace.getStackTrace() returns non-empty stacktrace array
- kill off openConnectionsHealthThresholds (unused)</p>
</div>
<div class="section" id="id45">
<h3>1.9.6<a class="headerlink" href="#id45" title="Permalink to this headline">¶</a></h3>
<p>Released 2011/11/08</p>
<ul class="simple">
<li><cite>SSL</cite>: make native provider bootstrapping code work; refactor</li>
</ul>
<p>&#8216;Ssl&#8217; singleton
- <cite>tracing</cite>: Update configurations and libraries to use tracer
factory introduced to make it possible to release resources
properly in tracers
- <cite>finagle-thrift</cite>: connection options + client id
- a more flexible retry filter</p>
</div>
<div class="section" id="id46">
<h3>1.9.5<a class="headerlink" href="#id46" title="Permalink to this headline">¶</a></h3>
<p>Released 2011/11/04</p>
<ul class="simple">
<li><cite>ExpiringService</cite>: add stats for idle and lifetime expiration.</li>
</ul>
<p>Deactivate() regardless of latch counter
- <cite>Filters</cite>: don&#8217;t apply refcounts on composition, do it only
(and always) in the builder
- Count pending timeouts, and export them
- <cite>ChannelService</cite>: release services when <cite>prepareChannel</cite>
fails. This fixes a connection leak
- <cite>WatermarkPool</cite>: flush waiters on creation failure. This
fixes a condition wherein we&#8217;d keep waiters unnecessarily.
- <cite>Timeout exceptions</cite>: include service name
- Suppress excessive logging of the exceptions that mostly
caused by unreliable client connections.
- <cite>memcached</cite>: Add generic type support (via Client.adapt), and
Array[Byte] and String instances
- <cite>finagle-stream</cite>: do not admit concurrent requests
- <cite>Tracing</cite>: Add release method to Tracer trait, add
tracerFactory to builders, deprecate tracer on builders</p>
</div>
<div class="section" id="id47">
<h3>1.9.4<a class="headerlink" href="#id47" title="Permalink to this headline">¶</a></h3>
<p>Released 2011/10/24</p>
<ul class="simple">
<li><cite>Service</cite>: response Future will now be cancelled if the client</li>
</ul>
<p>disconnects
- use static exceptions for TimedOutRequestException
- <cite>kestrel</cite>: Cancel request Future on close in kestrel ReadHandle
- <cite>exception cleanup</cite>: wrap all Channel exceptions with their
underlying exception. This makes UnknownChannelExceptions in
particular easier to debug
- <cite>Friendlier exceptions</cite>: In order to give very specific error
messages to timeouts in finagle (so beginners know which
settings in the client and server builder caused them), I&#8217;m
adding lots of human-readable messages to the various
TimeoutExceptions.
- <cite>some timer bug fixes, particularly</cite>: TimerToNettyTimer:
actually cancel underlying task.</p>
</div>
<div class="section" id="id48">
<h3>1.9.2<a class="headerlink" href="#id48" title="Permalink to this headline">¶</a></h3>
<p>Released 2011/10/14</p>
<ul class="simple">
<li><cite>tracing</cite>: Change SpanId to use RichU64String</li>
<li><cite>tracing</cite>: Trace.{enable,disable}</li>
<li><cite>http</cite>: http.RequestBuilder</li>
<li><cite>http</cite>: add common media types</li>
</ul>
</div>
<div class="section" id="id49">
<h3>1.9.1<a class="headerlink" href="#id49" title="Permalink to this headline">¶</a></h3>
<p>Released 2011/09/28</p>
<ul class="simple">
<li><cite>memcached</cite>: new interface for partial results (ie. retrieval</li>
</ul>
<p>failures + successes)
- <cite>tracing</cite>: set service name in the endpoint instead of the
span
- more idiomatic KetamaClientBuilder constructor
- <cite>tracing</cite>: convenience methods to add binary annotations
- <cite>finagle-http</cite>: misc. fixes
- HeapBalancer - a new lg n load balancer (asymptotically
more efficient!)
- upgrade to ostrich 4.9.0</p>
</div>
<div class="section" id="id50">
<h3>1.9.0<a class="headerlink" href="#id50" title="Permalink to this headline">¶</a></h3>
<p>Released 2011/08/29</p>
<ul class="simple">
<li><cite>http</cite>: new http library</li>
</ul>
</div>
<div class="section" id="id51">
<h3>1.8.4<a class="headerlink" href="#id51" title="Permalink to this headline">¶</a></h3>
<p>Released 2011/08/23</p>
<ul class="simple">
<li><cite>tracing</cite>: fixed space leak</li>
<li><cite>ssl</cite>: integrate openssl sslengine</li>
<li><cite>thrift</cite>: update to sbt-thrift 2.0.1</li>
<li><cite>stream</cite>: always release server when we close</li>
<li><cite>serversets</cite>: upgraded to guava-r09</li>
<li><cite>core</cite>: expose stats on failed retries</li>
</ul>
</div>
<div class="section" id="id52">
<h3>1.8.3<a class="headerlink" href="#id52" title="Permalink to this headline">¶</a></h3>
<p>Released 2011/08/12</p>
<ul class="simple">
<li><cite>thrift</cite>: add a server-side buffered codec; fix tracing issue</li>
</ul>
<p>in buffered codec
- <cite>http</cite>: workaround hole in netty logic to guarantee
maxRequestSize
- <cite>serversets</cite>: don&#8217;t block on ClientBuilder construction
- <cite>ostrich4</cite>: update to ostrich 4.8.2
- <cite>streaming</cite>: reimplement HTTP chunked streaming in terms of
offer/broker
- <cite>kestrel</cite>: buffered &amp; merging of ReadHandles</p>
</div>
<div class="section" id="id53">
<h3>1.8.1<a class="headerlink" href="#id53" title="Permalink to this headline">¶</a></h3>
<p>Released 2011/08/05</p>
<ul class="simple">
<li>upgrade to netty 3.2.5.Final</li>
<li><cite>kestrel</cite>: fix visibility of ResultWithCAS</li>
<li><cite>kestrel</cite>: Client.{read,write}, Client.readReliably,</li>
</ul>
<p>MultiReader: suite of kestrel streaming readers (including
grabby-hands replacements) using Offer/Broker
- <cite>kestrel</cite>: don&#8217;t render timeouts &gt; 2^31-1
- <cite>tracing</cite>: fix sampling bug
- <cite>tracing</cite>: trace the kestrel client
- quench unecessary error reporting</p>
</div>
<div class="section" id="id54">
<h3>1.8.0<a class="headerlink" href="#id54" title="Permalink to this headline">¶</a></h3>
<p>Released 2011/08/02</p>
<ul class="simple">
<li><cite>SSL</cite>: perform hostname validation in the client. this is the</li>
</ul>
<p>reason for the minor bump: we change the .tls() ClientBuilder
signature
- introduce util-codec dependency for use of the apache
commons base 64 codec</p>
</div>
<div class="section" id="id55">
<h3>1.7.5<a class="headerlink" href="#id55" title="Permalink to this headline">¶</a></h3>
<p>Released 2011/07/29</p>
<ul class="simple">
<li>make it easier to use the NullStatsReceiver from java</li>
<li>convert WriteException to a case class (github issue 25)</li>
<li>add _root_. to java.util.Map import. reorder imports</li>
<li>Upgrade finagle-common-stats to twitter-common-stats 0.0.16</li>
<li>encode more HTTP codec errors</li>
<li>adding cardinality to ServiceException</li>
<li><cite>finagle CachingPool</cite>: limit size to highWatermark - lowWatermark</li>
<li><cite>exception reporting</cite>: gzipping trace strings</li>
<li>set ostrich version of finagle-ostrich4 to 4.7.3</li>
<li><cite>ChannelServiceFactory</cite>: encode exceptions from bootstrap.connect()</li>
</ul>
</div>
<div class="section" id="id56">
<h3>1.7.4<a class="headerlink" href="#id56" title="Permalink to this headline">¶</a></h3>
<p>Released 2011/07/22</p>
<ul class="simple">
<li><cite>http</cite>: convert codec exceptions into 4xx errors; report them</li>
</ul>
<p>as such upstream
- <cite>memcache</cite>: <cite>gets</cite> and <cite>cas</cite> support.</p>
</div>
<div class="section" id="id57">
<h3>1.7.3<a class="headerlink" href="#id57" title="Permalink to this headline">¶</a></h3>
<p>Released 2011/07/19</p>
<ul class="simple">
<li><cite>fix</cite>: 1.7.2 introduced a regression in the pool that may,</li>
</ul>
<p>under certain circumstances, admit connections beyond the high
watermark.
- quench exception for setting multiple Promise values when
racing with write errors.
- Adds tracing support for the Memcached client. This only
creates the client side annotations, no support for passing
along ids and such to the memcached server.</p>
</div>
<div class="section" id="id58">
<h3>1.7.2<a class="headerlink" href="#id58" title="Permalink to this headline">¶</a></h3>
<p>Released 2011/07/18</p>
<ul class="simple">
<li>support end-to-end cancellation in finagle clients; fixes</li>
</ul>
<p>possible pool starvation conditions, and allows clients to
cancel requests and reclaim resources
- <cite>end-to-end timeouts</cite>: introduce, .connectTimeout and
.timeout. .connectTimeout is the end-to-end connection
timeout (includes acquisition &amp; TCP time), .timeout is an
end-to-end request time: no requests will take longer
- some doc fixes
- misc. bug fixes</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper"><p class="logo"><a href="index.html">
  <img class="logo" src="_static/governorlogo.png" alt="Logo"/>
</a></p><a href="index.html"><h3>Finagle</h3></a>
<p>
  Finagle is a network stack for distributed systems.
</p>

<h3>Useful Links</h3>
<ul>
  <li><a href="http://github.com/twitter/finagle">Finagle @ GitHub</a></li>
  <li><a href="http://github.com/twitter/finagle/issues">Issue Tracker</a></li>
</ul>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Finagle changelog</a><ul>
<li><a class="reference internal" href="#x">6.x</a><ul>
<li><a class="reference internal" href="#id1">6.1.2</a></li>
<li><a class="reference internal" href="#id2">6.1.1</a></li>
<li><a class="reference internal" href="#id3">6.1.0</a></li>
<li><a class="reference internal" href="#id4">6.0.5</a></li>
<li><a class="reference internal" href="#id5">6.0.4</a></li>
<li><a class="reference internal" href="#id6">6.0.3</a></li>
<li><a class="reference internal" href="#id7">6.0.2</a></li>
<li><a class="reference internal" href="#id8">6.0.1</a></li>
<li><a class="reference internal" href="#id9">6.0.0</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id10">5.x</a><ul>
<li><a class="reference internal" href="#id11">5.3.23</a></li>
<li><a class="reference internal" href="#id12">5.3.22</a></li>
<li><a class="reference internal" href="#id13">5.3.20</a></li>
<li><a class="reference internal" href="#id14">5.3.19</a></li>
<li><a class="reference internal" href="#id15">5.3.18</a></li>
<li><a class="reference internal" href="#id16">5.3.9</a></li>
<li><a class="reference internal" href="#id17">5.3.8</a></li>
<li><a class="reference internal" href="#id18">5.3.7</a></li>
<li><a class="reference internal" href="#id19">5.3.6</a></li>
<li><a class="reference internal" href="#id20">5.3.5</a></li>
<li><a class="reference internal" href="#id21">5.3.4</a></li>
<li><a class="reference internal" href="#id22">5.3.3</a></li>
<li><a class="reference internal" href="#id23">5.3.2</a></li>
<li><a class="reference internal" href="#id24">5.3.1</a></li>
<li><a class="reference internal" href="#id25">5.3.0</a></li>
<li><a class="reference internal" href="#id26">5.1.0</a></li>
<li><a class="reference internal" href="#id27">5.0.2</a></li>
<li><a class="reference internal" href="#id28">5.0.0</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id29">4.x</a><ul>
<li><a class="reference internal" href="#id30">4.0.0</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id31">3.x</a><ul>
<li><a class="reference internal" href="#id32">3.0.0</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id33">2.x</a><ul>
<li><a class="reference internal" href="#id34">2.0.1</a></li>
<li><a class="reference internal" href="#id35">2.0.0</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id36">1.x</a><ul>
<li><a class="reference internal" href="#id37">1.11.1</a></li>
<li><a class="reference internal" href="#id38">1.11.0</a></li>
<li><a class="reference internal" href="#id39">1.10.0</a></li>
<li><a class="reference internal" href="#id40">1.9.12</a></li>
<li><a class="reference internal" href="#id41">1.9.10</a></li>
<li><a class="reference internal" href="#id42">1.9.9</a></li>
<li><a class="reference internal" href="#id43">1.9.8</a></li>
<li><a class="reference internal" href="#id44">1.9.7</a></li>
<li><a class="reference internal" href="#id45">1.9.6</a></li>
<li><a class="reference internal" href="#id46">1.9.5</a></li>
<li><a class="reference internal" href="#id47">1.9.4</a></li>
<li><a class="reference internal" href="#id48">1.9.2</a></li>
<li><a class="reference internal" href="#id49">1.9.1</a></li>
<li><a class="reference internal" href="#id50">1.9.0</a></li>
<li><a class="reference internal" href="#id51">1.8.4</a></li>
<li><a class="reference internal" href="#id52">1.8.3</a></li>
<li><a class="reference internal" href="#id53">1.8.1</a></li>
<li><a class="reference internal" href="#id54">1.8.0</a></li>
<li><a class="reference internal" href="#id55">1.7.5</a></li>
<li><a class="reference internal" href="#id56">1.7.4</a></li>
<li><a class="reference internal" href="#id57">1.7.3</a></li>
<li><a class="reference internal" href="#id58">1.7.2</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="FAQ.html" title="previous chapter">FAQ</a></li>
      <li>Next: <a href="license.html" title="next chapter">License</a></li>
  </ul></li>
</ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Search the contents of this site.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  <div class="footer">
    &copy; Copyright 2013 Twitter, Inc.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div>
  
  </body>
</html>